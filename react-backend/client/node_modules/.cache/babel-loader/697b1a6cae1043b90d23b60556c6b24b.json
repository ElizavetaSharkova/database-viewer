{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\elizaveta.sharkova\\\\Learning\\\\React\\\\First\\\\database-viewer\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\elizaveta.sharkova\\\\Learning\\\\React\\\\First\\\\database-viewer\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\n\nvar mysql = require('mysql');\n\nvar DBController =\n/*#__PURE__*/\nfunction () {\n  function DBController(database) {\n    _classCallCheck(this, DBController);\n\n    this.connection = mysql.createConnection({\n      host: 'localhost',\n      user: 'root',\n      password: 'password',\n      database: database,\n      port: 3306\n    });\n  }\n\n  _createClass(DBController, [{\n    key: \"getDataFromTable\",\n    value: function getDataFromTable(tableName) {\n      var select = 'SELECT * FROM ' + this.connection.config.database + '.' + tableName;\n      return this.getDataBySelect(select);\n    }\n  }, {\n    key: \"getTablesList\",\n    value: function getTablesList() {\n      var select = 'SHOW TABLES FROM ' + this.connection.config.database;\n      return this.getDataBySelect(select);\n    }\n  }, {\n    key: \"getDataBySelect\",\n    value: function getDataBySelect(select) {\n      var data;\n      this.connection.connect();\n      this.connection.query(select, function (error, results, fields) {\n        if (error) throw error;\n        data = results;\n      });\n      this.connection.end();\n      return data;\n    }\n  }]);\n\n  return DBController;\n}();\n\nexport { DBController as default };","map":{"version":3,"sources":["C:\\Users\\elizaveta.sharkova\\Learning\\React\\First\\database-viewer\\src\\DBconnection.js"],"names":["mysql","require","DBController","database","connection","createConnection","host","user","password","port","tableName","select","config","getDataBySelect","data","connect","query","error","results","fields","end"],"mappings":";;;AAAA,IAAIA,KAAK,GAAQC,OAAO,CAAC,OAAD,CAAxB;;IAGqBC,Y;;;AACpB,wBAAYC,QAAZ,EAAqB;AAAA;;AAClB,SAAKC,UAAL,GAAkBJ,KAAK,CAACK,gBAAN,CAAuB;AACrCC,MAAAA,IAAI,EAAO,WAD0B;AAErCC,MAAAA,IAAI,EAAO,MAF0B;AAGrCC,MAAAA,QAAQ,EAAG,UAH0B;AAIrCL,MAAAA,QAAQ,EAAGA,QAJ0B;AAKrCM,MAAAA,IAAI,EAAE;AAL+B,KAAvB,CAAlB;AAOA;;;;qCAEgBC,S,EAAU;AACtB,UAAIC,MAAM,GAAG,mBAAkB,KAAKP,UAAL,CAAgBQ,MAAhB,CAAuBT,QAAzC,GAAoD,GAApD,GAA0DO,SAAvE;AACA,aAAO,KAAKG,eAAL,CAAqBF,MAArB,CAAP;AACJ;;;oCAEc;AACV,UAAIA,MAAM,GAAG,sBAAsB,KAAKP,UAAL,CAAgBQ,MAAhB,CAAuBT,QAA1D;AACA,aAAO,KAAKU,eAAL,CAAqBF,MAArB,CAAP;AACJ;;;oCAEeA,M,EAAO;AACtB,UAAIG,IAAJ;AACA,WAAKV,UAAL,CAAgBW,OAAhB;AACA,WAAKX,UAAL,CAAgBY,KAAhB,CAAsBL,MAAtB,EAA8B,UAAUM,KAAV,EAAiBC,OAAjB,EAA0BC,MAA1B,EAAkC;AAC5D,YAAIF,KAAJ,EAAW,MAAMA,KAAN;AACXH,QAAAA,IAAI,GAAGI,OAAP;AACH,OAHD;AAIA,WAAKd,UAAL,CAAgBgB,GAAhB;AACA,aAAON,IAAP;AACH;;;;;;SA9BoBZ,Y","sourcesContent":["var mysql      = require('mysql');\r\n\r\n\r\nexport default class DBController{\r\n constructor(database){\r\n    this.connection = mysql.createConnection({\r\n        host     : 'localhost',\r\n        user     : 'root',\r\n        password : 'password',\r\n        database : database,\r\n        port: 3306\r\n        });\r\n   }\r\n\r\n   getDataFromTable(tableName){\r\n        let select = 'SELECT * FROM '+ this.connection.config.database + '.' + tableName; \r\n        return this.getDataBySelect(select);\r\n   }\r\n\r\n   getTablesList(){\r\n        let select = 'SHOW TABLES FROM ' + this.connection.config.database;        \r\n        return this.getDataBySelect(select);\r\n   }\r\n\r\n   getDataBySelect(select){\r\n    let data;\r\n    this.connection.connect();\r\n    this.connection.query(select, function (error, results, fields) {\r\n        if (error) throw error;\r\n        data = results;\r\n    });\r\n    this.connection.end();\r\n    return data;\r\n}\r\n    \r\n    \r\n\r\n}"]},"metadata":{},"sourceType":"module"}