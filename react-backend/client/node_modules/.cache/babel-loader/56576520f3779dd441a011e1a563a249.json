{"ast":null,"code":"'use strict'; // s2.2.7.17\n\nvar valueParse = require('../value-parser');\n\nmodule.exports = function (parser, colMetadata, options, callback) {\n  var columns = options.useColumnNames ? {} : [];\n  var len = colMetadata.length;\n  var i = 0;\n\n  function next(done) {\n    if (i === len) {\n      return done();\n    }\n\n    var columnMetaData = colMetadata[i];\n    valueParse(parser, columnMetaData, options, function (value) {\n      var column = {\n        value: value,\n        metadata: columnMetaData\n      };\n\n      if (options.useColumnNames) {\n        if (columns[columnMetaData.colName] == null) {\n          columns[columnMetaData.colName] = column;\n        }\n      } else {\n        columns.push(column);\n      }\n\n      i++;\n      next(done);\n    });\n  }\n\n  next(function () {\n    callback({\n      name: 'ROW',\n      event: 'row',\n      columns: columns\n    });\n  });\n};","map":null,"metadata":{},"sourceType":"script"}